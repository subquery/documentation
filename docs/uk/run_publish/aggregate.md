# Агрегатні функції

## Group By

SubQuery підтримує розширені агрегатні функції, що дозволяють вам здійснювати обчислення щодо набору значень під час вашого запиту.

Агрегуючі функції зазвичай використані з функцією GroupBy у вашому запиті.

GroupBy дозволяє вам швидко отримувати чіткі цінності в наборі від SubQuery в єдиному запиті.

![Graphql Groupby](/assets/img/graphql_aggregation.png)

## Розширені агрегатні функції

SubQuery надає наступні агрегатні функції, коли в небезпечному режимі –

- `sum` (застосовується до числових полів) - результат додавання всіх значень разом
- `distinctCount` (застосовується до всіх полів) - кількість різних значень
- `min` (застосовується до числових полів) - найменше значення
- `max` (застосовується до числових полів) - найбільше значення
- `average` (застосовується до числових полів) - середнє (середнє арифметичне) значення
- `stddevSample` (застосовується до числових полів) - стандартне відхилення вибірки значень
- `stddevPopulation` (застосовується до числових полів) - стандартне відхилення величин населення
- `varianceSample` (застосовується до числових полів) - похибка вибірки значень
- `variancePopulation` (застосовується до числових полів) - дисперсія генеральної сукупності значень

Реалізація SubQuery's агрегатних функцій заснована на [pg-aggregates](https://github.com/graphile/pg-aggregates) більш детальну інформацію ви можете знайти там.

::: важливе попередження Будь ласка, зверніть увагу, що ви повинні включити прапор `--unsafe` в службі запитів, щоб використовувати ці функції. [Детальніше](./references.md#unsafe-2).

Також зверніть увагу, що команда `--unsafe` запобігає запуску вашого проєкту в мережі SubQuery, і ви повинні звернутися в службу підтримки, якщо хочете, щоб ця команда виконувалася з вашим проєктом в [керованому сервісі SubQuery's ](https://project.subquery.network). :::
