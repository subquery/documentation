# Агрегатні функції

## Group By

SubQuery підтримує розширені агрегатні функції, що дозволяють вам здійснювати обчислення щодо набору значень під час вашого запиту.

Агрегуючі функції зазвичай використані з функцією GroupBy у вашому запиті.

GroupBy дозволяє вам швидко отримувати чіткі цінності в наборі від SubQuery в єдиному запиті.

![Graphql Groupby](/assets/img/graphql_aggregation.png)

## Розширені агрегатні функції

SubQuery надає наступні агрегатні функції, коли в небезпечному режимі –

- `sum` (застосовується до числових полів) - результат додавання всіх значень разом
- `distinctCount` (застосовується до всіх полів) - кількість різних значень
- `min` (застосовується до числових полів) - найменше значення
- `max` (застосовується до числових полів) - найбільше значення
- `average` (застосовується до числових полів) - середнє (середнє арифметичне) значення
- `stddevSample` (застосовується до числових полів) - стандартне відхилення вибірки значень
- `stddevPopulation` (застосовується до числових полів) - стандартне відхилення величин населення
- `varianceSample` (застосовується до числових полів) - похибка вибірки значень
- `variancePopulation` (застосовується до числових полів) - дисперсія генеральної сукупності значень

Реалізація агрегатних функцій SubQuery базується на [pg-aggregates](https://github.com/graphile/pg-aggregates), додаткову інформацію можна знайти там

**Зверніть увагу, що для використання цих функцій потрібно ввімкнути позначку `--небезпечна` на службі запитів. [Читати більше](../references/references.md#unsafe-2). Зверніть увагу, що команда `--unsafe` не дозволить вашому проєкту запустити в підпроцесній мережі, і ви повинні звернутися в службу підтримки, якщо хочете, щоб ця команда працювала з вашим проєкт в сервісі керування SubQuery ([проекті. ubquery.network](https://project.subquery.network))**
